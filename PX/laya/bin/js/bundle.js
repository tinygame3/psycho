var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var HouseUI_1 = require("./scripts/HouseUI");
var MainUI_1 = require("./scripts/MainUI");
/*
* 游戏初始化配置;
*/
var GameConfig = /** @class */ (function () {
    function GameConfig() {
    }
    GameConfig.init = function () {
        var reg = Laya.ClassUtils.regClass;
        reg("scripts/HouseUI.ts", HouseUI_1.default);
        reg("scripts/MainUI.ts", MainUI_1.default);
    };
    GameConfig.width = 640;
    GameConfig.height = 1136;
    GameConfig.scaleMode = "fixedwidth";
    GameConfig.screenMode = "none";
    GameConfig.alignV = "top";
    GameConfig.alignH = "left";
    GameConfig.startScene = "MainScene.scene";
    GameConfig.sceneRoot = "";
    GameConfig.debug = false;
    GameConfig.stat = false;
    GameConfig.physicsDebug = false;
    GameConfig.exportSceneToJson = true;
    return GameConfig;
}());
exports.default = GameConfig;
GameConfig.init();
},{"./scripts/HouseUI":3,"./scripts/MainUI":5}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig_1 = require("./GameConfig");
var Main = /** @class */ (function () {
    function Main() {
        //根据IDE设置初始化引擎		
        if (window["Laya3D"])
            Laya3D.init(GameConfig_1.default.width, GameConfig_1.default.height);
        else
            Laya.init(GameConfig_1.default.width, GameConfig_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.screenMode = Laya.Stage.SCREEN_HORIZONTAL;
        //Laya.stage.scaleMode = Laya.Stage.SCALE_FIXED_WIDTH;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameConfig_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameConfig_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    Main.prototype.onVersionLoaded = function () {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
    };
    Main.prototype.onConfigLoaded = function () {
        //加载IDE指定的场景
        GameConfig_1.default.startScene && Laya.Scene.open(GameConfig_1.default.startScene);
    };
    Main.mainScene = null;
    return Main;
}());
//激活启动类
new Main();
},{"./GameConfig":1}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var MainUI_1 = require("../scripts/MainUI");
var HouseUI = /** @class */ (function (_super) {
    __extends(HouseUI, _super);
    function HouseUI() {
        var _this = _super.call(this) || this;
        _this.maxLeftX = 0;
        _this.maxTopY = 0;
        _this.init();
        return _this;
    }
    HouseUI.prototype.init = function () {
        this.autoDestroyAtClosed = true;
        this.bg = new Laya.Sprite();
        this.bg.loadImage("res/bg/bg_newyear.png");
        this.addChild(this.bg);
        this.bg.pos(0, 0);
        this.hourse = new Laya.Sprite();
        this.hourse.loadImage("res/item/win_165.png");
        this.addChild(this.hourse);
        this.hourse.pos(100, 750);
    };
    HouseUI.prototype.onEnable = function () {
        this.btlReturn.on(Laya.Event.CLICK, this, this.onReturn);
    };
    HouseUI.prototype.onReturn = function () {
        Laya.Scene.close("HouseScene.scene", "houseScene");
        MainUI_1.default.curScene.bStop = false;
    };
    return HouseUI;
}(Laya.Scene));
exports.default = HouseUI;
},{"../scripts/MainUI":5}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig_1 = require("../GameConfig");
var MainMap = /** @class */ (function (_super) {
    __extends(MainMap, _super);
    function MainMap(curScene) {
        var _this = _super.call(this) || this;
        _this.curScene = curScene;
        return _this;
    }
    MainMap.prototype.onEnable = function () {
        this.bg = new Laya.Sprite();
        this.bg.loadImage("res/bg/bg_newyear.png", Laya.Handler.create(this, this.OnLoadBgCompleted));
        this.addChild(this.bg);
        this.bg.pos(0, 0);
        this.hourse = new Laya.Sprite();
        this.hourse.loadImage("res/item/win_164.png");
        this.addChild(this.hourse);
        this.hourse.pos(100, 750);
        this.hourse.on(Laya.Event.MOUSE_OUT, this, this.OnFocusOff, [this.hourse]);
        this.hourse.on(Laya.Event.MOUSE_OVER, this, this.OnFocusOn, [this.hourse]);
        this.hourse.on(Laya.Event.CLICK, this, this.OnHourseClick, [this.hourse]);
        Laya.timer.frameLoop(1, this, this.onUpdate);
    };
    MainMap.prototype.onDisable = function () {
        Laya.timer.clear(this, this.onUpdate);
    };
    MainMap.prototype.onUpdate = function () {
        this.hourse.pos(100 + this.x, 750 + this.y);
    };
    MainMap.prototype.OnLoadBgCompleted = function () {
        this.curScene.maxLeftX = GameConfig_1.default.width - this.bg.width;
        if (this.curScene.maxLeftX > 0) {
            this.curScene.maxLeftX = 0;
        }
        this.curScene.maxTopY = GameConfig_1.default.height - this.bg.height;
        if (this.curScene.maxTopY > 0) {
            this.curScene.maxTopY = 0;
        }
    };
    MainMap.prototype.GlowFilter = function (hourse, bShowGlow) {
        if (bShowGlow) {
            //创建一个发光滤镜
            var glowFilter = new Laya.GlowFilter("#ffff00", 10, 0, 0);
            //设置滤镜集合为发光滤镜
            hourse.filters = [glowFilter];
        }
        else {
            hourse.filters = [];
        }
    };
    MainMap.prototype.OnFocusOff = function (sp) {
        this.GlowFilter(sp, false);
    };
    MainMap.prototype.OnFocusOn = function (sp) {
        this.GlowFilter(sp, true);
    };
    MainMap.prototype.OnHourseClick = function (sp) {
        this.curScene.bStop = true;
        Laya.Scene.open("HouseScene.scene", false);
    };
    return MainMap;
}(Laya.Sprite));
exports.default = MainMap;
},{"../GameConfig":1}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var MainMap_1 = require("./MainMap");
var WorldMap_1 = require("./WorldMap");
var MainUI = /** @class */ (function (_super) {
    __extends(MainUI, _super);
    function MainUI() {
        var _this = _super.call(this) || this;
        _this.maxLeftX = 0;
        _this.maxTopY = 0;
        _this.bStop = false;
        _this.lastX = null;
        _this.lastY = null;
        _this.bgX = 0;
        _this.bgY = 0;
        _this.init();
        return _this;
    }
    MainUI.prototype.init = function () {
        MainUI.curScene = this;
    };
    MainUI.prototype.onEnable = function () {
        this.btlHouse.on(Laya.Event.CLICK, this, this.onHouseClick);
        this.btlWorld.on(Laya.Event.CLICK, this, this.onWorldClick);
        this.btlFriends.on(Laya.Event.CLICK, this, this.onFriendsClick);
        Laya.stage.on(Laya.Event.MOUSE_MOVE, this, this.OnMouseMove);
        Laya.stage.on(Laya.Event.MOUSE_OUT, this, this.OnMouseEnd);
        //Laya.timer.frameLoop(1, this, this.onUpdate);
        this.switchMap(1);
    };
    MainUI.prototype.onDisable = function () {
        //Laya.timer.clear(this, this.onUpdate);
    };
    MainUI.prototype.onUpdate = function () {
        //this.hourse.pos(100 + this.bgX, 750 + this.bgY);
        //this.bg.x = this.bgX;
        //this.bg.y = this.bgY;
        //console.log(this.bg.x)
    };
    MainUI.prototype.OnMouseMove = function () {
        if (this.bStop) {
            return;
        }
        if (this.lastX == null || this.lastY == null) {
        }
        else {
            //return;
            var deltaX = Laya.stage.mouseX - this.lastX;
            var deltaY = Laya.stage.mouseY - this.lastY;
            this.curMap.x = this.curMap.x + deltaX;
            this.curMap.y = this.curMap.x + deltaY;
            this.bgX = this.curMap.x;
            this.bgY = this.curMap.y;
            if (this.curMap.x > 0) {
                this.curMap.x = 0;
            }
            if (this.curMap.y > 0) {
                this.curMap.y = 0;
            }
            if (this.curMap.x < this.maxLeftX) {
                this.curMap.x = this.maxLeftX;
            }
            if (this.curMap.y < this.maxTopY) {
                this.curMap.y = this.maxTopY;
            }
            //
        }
        this.lastX = Laya.stage.mouseX;
        this.lastY = Laya.stage.mouseY;
    };
    MainUI.prototype.OnMouseEnd = function () {
        this.lastX = null;
        this.lastY = null;
    };
    MainUI.prototype.onHouseClick = function (e) {
        //this.btlHouse.label = "pressed";
        this.switchMap(1);
    };
    MainUI.prototype.onWorldClick = function (e) {
        this.switchMap(2);
    };
    MainUI.prototype.onFriendsClick = function (e) {
        //this.btlFriends.label = "pressed";
    };
    MainUI.prototype.switchMap = function (index) {
        this.btlHouse.selected = false;
        this.btlWorld.selected = false;
        this.btlFriends.selected = false;
        this.removeChild(this.curMap);
        if (index == 1) {
            this.btlHouse.selected = true;
            this.curMap = new MainMap_1.default(this);
        }
        if (index == 2) {
            this.curMap = new WorldMap_1.default(this);
            this.btlWorld.selected = true;
        }
        if (index == 3) {
            this.btlFriends.selected = true;
        }
        this.addChildAt(this.curMap, 0);
    };
    return MainUI;
}(Laya.Scene));
exports.default = MainUI;
},{"./MainMap":4,"./WorldMap":6}],6:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig_1 = require("../GameConfig");
var WorldMap = /** @class */ (function (_super) {
    __extends(WorldMap, _super);
    function WorldMap(curScene) {
        var _this = _super.call(this) || this;
        _this.posX = 220;
        _this.posY = 750;
        _this.curScene = curScene;
        return _this;
    }
    WorldMap.prototype.onEnable = function () {
        this.bg = new Laya.Sprite();
        this.bg.loadImage("res/bg/bg_houshan.png", Laya.Handler.create(this, this.OnLoadBgCompleted));
        this.addChild(this.bg);
        this.bg.pos(0, 0);
        this.hourse = new Laya.Sprite();
        this.hourse.loadImage("res/item/win_165.png");
        this.addChild(this.hourse);
        this.hourse.pos(this.posX, this.posY);
        this.hourse.on(Laya.Event.MOUSE_OUT, this, this.OnFocusOff, [this.hourse]);
        this.hourse.on(Laya.Event.MOUSE_OVER, this, this.OnFocusOn, [this.hourse]);
        this.hourse.on(Laya.Event.CLICK, this, this.OnHourseClick, [this.hourse]);
        Laya.timer.frameLoop(1, this, this.onUpdate);
    };
    WorldMap.prototype.onDisable = function () {
        Laya.timer.clear(this, this.onUpdate);
    };
    WorldMap.prototype.onUpdate = function () {
        this.hourse.pos(this.posX + this.x, this.posY + this.y);
    };
    WorldMap.prototype.OnLoadBgCompleted = function () {
        this.curScene.maxLeftX = GameConfig_1.default.width - this.bg.width;
        if (this.curScene.maxLeftX > 0) {
            this.curScene.maxLeftX = 0;
        }
        this.curScene.maxTopY = GameConfig_1.default.height - this.bg.height;
        if (this.curScene.maxTopY > 0) {
            this.curScene.maxTopY = 0;
        }
    };
    WorldMap.prototype.GlowFilter = function (hourse, bShowGlow) {
        if (bShowGlow) {
            //创建一个发光滤镜
            var glowFilter = new Laya.GlowFilter("#ffff00", 10, 0, 0);
            //设置滤镜集合为发光滤镜
            hourse.filters = [glowFilter];
        }
        else {
            hourse.filters = [];
        }
    };
    WorldMap.prototype.OnFocusOff = function (sp) {
        this.GlowFilter(sp, false);
    };
    WorldMap.prototype.OnFocusOn = function (sp) {
        this.GlowFilter(sp, true);
    };
    WorldMap.prototype.OnHourseClick = function (sp) {
        this.curScene.bStop = true;
        Laya.Scene.open("HouseScene.scene", false);
    };
    return WorldMap;
}(Laya.Sprite));
exports.default = WorldMap;
},{"../GameConfig":1}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL1Byb2dyYW0gRmlsZXMvTGF5YUFpcklERS9yZXNvdXJjZXMvYXBwL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvR2FtZUNvbmZpZy50cyIsInNyYy9NYWluLnRzIiwic3JjL3NjcmlwdHMvSG91c2VVSS50cyIsInNyYy9zY3JpcHRzL01haW5NYXAudHMiLCJzcmMvc2NyaXB0cy9NYWluVUkudHMiLCJzcmMvc2NyaXB0cy9Xb3JsZE1hcC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNWQSxnR0FBZ0c7QUFDaEcsNkNBQXVDO0FBQ3ZDLDJDQUFxQztBQUNyQzs7RUFFRTtBQUNGO0lBYUk7SUFBYyxDQUFDO0lBQ1IsZUFBSSxHQUFYO1FBQ0ksSUFBSSxHQUFHLEdBQWEsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUM7UUFDN0MsR0FBRyxDQUFDLG9CQUFvQixFQUFDLGlCQUFPLENBQUMsQ0FBQztRQUNsQyxHQUFHLENBQUMsbUJBQW1CLEVBQUMsZ0JBQU0sQ0FBQyxDQUFDO0lBQ3BDLENBQUM7SUFqQk0sZ0JBQUssR0FBUSxHQUFHLENBQUM7SUFDakIsaUJBQU0sR0FBUSxJQUFJLENBQUM7SUFDbkIsb0JBQVMsR0FBUSxZQUFZLENBQUM7SUFDOUIscUJBQVUsR0FBUSxNQUFNLENBQUM7SUFDekIsaUJBQU0sR0FBUSxLQUFLLENBQUM7SUFDcEIsaUJBQU0sR0FBUSxNQUFNLENBQUM7SUFDckIscUJBQVUsR0FBSyxpQkFBaUIsQ0FBQztJQUNqQyxvQkFBUyxHQUFRLEVBQUUsQ0FBQztJQUNwQixnQkFBSyxHQUFTLEtBQUssQ0FBQztJQUNwQixlQUFJLEdBQVMsS0FBSyxDQUFDO0lBQ25CLHVCQUFZLEdBQVMsS0FBSyxDQUFDO0lBQzNCLDRCQUFpQixHQUFTLElBQUksQ0FBQztJQU8xQyxpQkFB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LENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUMsQ0FBQztRQUM5RixJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN2QixJQUFJLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFFbEIsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQTtRQUMvQixJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO1FBQzlDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzNCLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztRQUMxQixJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1FBQzNFLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7UUFDM0UsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztRQUMxRSxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUNqRCxDQUFDO0lBRUQsMkJBQVMsR0FB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QUksQ0FBQyxRQUFRLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQztTQUM3QjtJQUNMLENBQUM7SUFDTyw2QkFBVSxHQUFsQixVQUFtQixNQUFrQixFQUFFLFNBQWlCO1FBQ3BELElBQUksU0FBUyxFQUNiO1lBQ0ksVUFBVTtZQUNWLElBQUksVUFBVSxHQUFvQixJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDM0UsYUFBYTtZQUNiLE1BQU0sQ0FBQyxPQUFPLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQztTQUNqQzthQUVEO1lBQ0ksTUFBTSxDQUFDLE9BQU8sR0FBRyxFQUFFLENBQUM7U0FDdkI7SUFFTCxDQUFDO0lBQ0QsNkJBQVUsR0FBVixVQUFXLEVBQWM7UUFDckIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFFLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDL0IsQ0FBQztJQUNELDRCQUFTLEdBQVQsVUFBVSxFQUFjO1FBQ3BCLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzlCLENBQUM7SUFDRCxnQ0FBYSxHQUFiLFVBQWMsRUFBYztRQUN4QixJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7UUFDM0IsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsa0JBQWtCLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDL0MsQ0FBQztJQUNMLGVBQUM7QUFBRCxDQXBFSSxBQW9FSCxDQXBFeUMsSUFBSSxDQUFDLE1BQU0sR0FvRXBEIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIi8qKlRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgYnkgTGF5YUFpcklERSwgcGxlYXNlIGRvIG5vdCBtYWtlIGFueSBtb2RpZmljYXRpb25zLiAqL1xyXG5pbXBvcnQgSG91c2VVSSBmcm9tIFwiLi9zY3JpcHRzL0hvdXNlVUlcIlxuaW1wb3J0IE1haW5VSSBmcm9tIFwiLi9zY3JpcHRzL01haW5VSVwiXHJcbi8qXHJcbiog5ri45oiP5Yid5aeL5YyW6YWN572uO1xyXG4qL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lQ29uZmlne1xyXG4gICAgc3RhdGljIHdpZHRoOm51bWJlcj02NDA7XHJcbiAgICBzdGF0aWMgaGVpZ2h0Om51bWJlcj0xMTM2O1xyXG4gICAgc3RhdGljIHNjYWxlTW9kZTpzdHJpbmc9XCJmaXhlZHdpZHRoXCI7XHJcbiAgICBzdGF0aWMgc2NyZWVuTW9kZTpzdHJpbmc9XCJub25lXCI7XHJcbiAgICBzdGF0aWMgYWxpZ25WOnN0cmluZz1cInRvcFwiO1xyXG4gICAgc3RhdGljIGFsaWduSDpzdHJpbmc9XCJsZWZ0XCI7XHJcbiAgICBzdGF0aWMgc3RhcnRTY2VuZTphbnk9XCJNYWluU2NlbmUuc2NlbmVcIjtcclxuICAgIHN0YXRpYyBzY2VuZVJvb3Q6c3RyaW5nPVwiXCI7XHJcbiAgICBzdGF0aWMgZGVidWc6Ym9vbGVhbj1mYWxzZTtcclxuICAgIHN0YXRpYyBzdGF0OmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgcGh5c2ljc0RlYnVnOmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgZXhwb3J0U2NlbmVUb0pzb246Ym9vbGVhbj10cnVlO1xyXG4gICAgY29uc3RydWN0b3IoKXt9XHJcbiAgICBzdGF0aWMgaW5pdCgpe1xyXG4gICAgICAgIHZhciByZWc6IEZ1bmN0aW9uID0gTGF5YS5DbGFzc1V0aWxzLnJlZ0NsYXNzO1xyXG4gICAgICAgIHJlZyhcInNjcmlwdHMvSG91c2VVSS50c1wiLEhvdXNlVUkpO1xuICAgICAgICByZWcoXCJzY3JpcHRzL01haW5VSS50c1wiLE1haW5VSSk7XHJcbiAgICB9XHJcbn1cclxuR2FtZUNvbmZpZy5pbml0KCk7IiwiaW1wb3J0IEdhbWVDb25maWcgZnJvbSBcIi4vR2FtZUNvbmZpZ1wiO1xyXG5jbGFzcyBNYWluIHtcclxuXHRzdGF0aWMgbWFpblNjZW5lOkxheWEuU2NlbmUgPSBudWxsO1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0Ly/moLnmja5JREXorr7nva7liJ3lp4vljJblvJXmk45cdFx0XHJcblx0XHRpZiAod2luZG93W1wiTGF5YTNEXCJdKSBMYXlhM0QuaW5pdChHYW1lQ29uZmlnLndpZHRoLCBHYW1lQ29uZmlnLmhlaWdodCk7XHJcblx0XHRlbHNlIExheWEuaW5pdChHYW1lQ29uZmlnLndpZHRoLCBHYW1lQ29uZmlnLmhlaWdodCwgTGF5YVtcIldlYkdMXCJdKTtcclxuXHRcdExheWFbXCJQaHlzaWNzXCJdICYmIExheWFbXCJQaHlzaWNzXCJdLmVuYWJsZSgpO1xyXG5cdFx0TGF5YVtcIkRlYnVnUGFuZWxcIl0gJiYgTGF5YVtcIkRlYnVnUGFuZWxcIl0uZW5hYmxlKCk7XHJcblx0XHRMYXlhLnN0YWdlLnNjcmVlbk1vZGUgPSBMYXlhLlN0YWdlLlNDUkVFTl9IT1JJWk9OVEFMO1xyXG5cdFx0Ly9MYXlhLnN0YWdlLnNjYWxlTW9kZSA9IExheWEuU3RhZ2UuU0NBTEVfRklYRURfV0lEVEg7XHJcblx0XHQvL+WFvOWuueW+ruS/oeS4jeaUr+aMgeWKoOi9vXNjZW5l5ZCO57yA5Zy65pmvXHJcblx0XHRMYXlhLlVSTC5leHBvcnRTY2VuZVRvSnNvbiA9IEdhbWVDb25maWcuZXhwb3J0U2NlbmVUb0pzb247XHJcblxyXG5cdFx0Ly/miZPlvIDosIPor5XpnaLmnb/vvIjpgJrov4dJREXorr7nva7osIPor5XmqKHlvI/vvIzmiJbogIV1cmzlnLDlnYDlop7liqBkZWJ1Zz10cnVl5Y+C5pWw77yM5Z2H5Y+v5omT5byA6LCD6K+V6Z2i5p2/77yJXHJcblx0XHRpZiAoR2FtZUNvbmZpZy5kZWJ1ZyB8fCBMYXlhLlV0aWxzLmdldFF1ZXJ5U3RyaW5nKFwiZGVidWdcIikgPT0gXCJ0cnVlXCIpIExheWEuZW5hYmxlRGVidWdQYW5lbCgpO1xyXG5cdFx0aWYgKEdhbWVDb25maWcucGh5c2ljc0RlYnVnICYmIExheWFbXCJQaHlzaWNzRGVidWdEcmF3XCJdKSBMYXlhW1wiUGh5c2ljc0RlYnVnRHJhd1wiXS5lbmFibGUoKTtcclxuXHRcdGlmIChHYW1lQ29uZmlnLnN0YXQpIExheWEuU3RhdC5zaG93KCk7XHJcblx0XHRMYXlhLmFsZXJ0R2xvYmFsRXJyb3IgPSB0cnVlO1xyXG5cclxuXHRcdC8v5r+A5rS76LWE5rqQ54mI5pys5o6n5Yi277yMdmVyc2lvbi5qc29u55SxSURF5Y+R5biD5Yqf6IO96Ieq5Yqo55Sf5oiQ77yM5aaC5p6c5rKh5pyJ5Lmf5LiN5b2x5ZON5ZCO57ut5rWB56iLXHJcblx0XHRMYXlhLlJlc291cmNlVmVyc2lvbi5lbmFibGUoXCJ2ZXJzaW9uLmpzb25cIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLm9uVmVyc2lvbkxvYWRlZCksIExheWEuUmVzb3VyY2VWZXJzaW9uLkZJTEVOQU1FX1ZFUlNJT04pO1xyXG5cdH1cclxuXHJcblx0b25WZXJzaW9uTG9hZGVkKCk6IHZvaWQge1xyXG5cdFx0Ly/mv4DmtLvlpKflsI/lm77mmKDlsITvvIzliqDovb3lsI/lm77nmoTml7blgJnvvIzlpoLmnpzlj5HnjrDlsI/lm77lnKjlpKflm77lkIjpm4bph4zpnaLvvIzliJnkvJjlhYjliqDovb3lpKflm77lkIjpm4bvvIzogIzkuI3mmK/lsI/lm75cclxuXHRcdExheWEuQXRsYXNJbmZvTWFuYWdlci5lbmFibGUoXCJmaWxlY29uZmlnLmpzb25cIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLm9uQ29uZmlnTG9hZGVkKSk7XHJcblx0fVxyXG5cclxuXHRvbkNvbmZpZ0xvYWRlZCgpOiB2b2lkIHtcclxuXHRcdC8v5Yqg6L29SURF5oyH5a6a55qE5Zy65pmvXHJcblx0XHRHYW1lQ29uZmlnLnN0YXJ0U2NlbmUgJiYgTGF5YS5TY2VuZS5vcGVuKEdhbWVDb25maWcuc3RhcnRTY2VuZSk7XHJcblx0fVxyXG59XHJcbi8v5r+A5rS75ZCv5Yqo57G7XHJcbm5ldyBNYWluKCk7XHJcbiIsImltcG9ydCBHYW1lQ29uZmlnIGZyb20gXCIuLi9HYW1lQ29uZmlnXCI7XHJcbmltcG9ydCBHbG93RmlsdGVyID0gTGF5YS5HbG93RmlsdGVyO1xyXG5pbXBvcnQgTWFpblVJIGZyb20gXCIuLi9zY3JpcHRzL01haW5VSVwiO1xyXG4gIGV4cG9ydCBkZWZhdWx0IGNsYXNzIEhvdXNlVUkgZXh0ZW5kcyBMYXlhLlNjZW5lIHtcclxuICAgIHByaXZhdGUgYmc6TGF5YS5TcHJpdGU7XHJcbiAgICBwdWJsaWMgYnRsUmV0dXJuOkxheWEuQnV0dG9uO1xyXG4gICAgcHJpdmF0ZSBtYXhMZWZ0WDogbnVtYmVyID0gMDtcclxuICAgIHByaXZhdGUgbWF4VG9wWTogbnVtYmVyID0gMDtcclxuICAgIGNvbnN0cnVjdG9yKCkgeyBcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuaW5pdCgpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwcml2YXRlIGhvdXJzZTpMYXlhLlNwcml0ZTtcclxuICAgIGluaXQoKTp2b2lke1xyXG4gICAgICAgIHRoaXMuYXV0b0Rlc3Ryb3lBdENsb3NlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5iZyA9IG5ldyBMYXlhLlNwcml0ZSgpO1xyXG4gICAgICAgIHRoaXMuYmcubG9hZEltYWdlKFwicmVzL2JnL2JnX25ld3llYXIucG5nXCIpO1xyXG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5iZyk7XHJcbiAgICAgICAgdGhpcy5iZy5wb3MoMCwgMCk7XHJcblxyXG4gICAgICAgIHRoaXMuaG91cnNlID0gbmV3IExheWEuU3ByaXRlKCk7XHJcbiAgICAgICAgdGhpcy5ob3Vyc2UubG9hZEltYWdlKFwicmVzL2l0ZW0vd2luXzE2NS5wbmdcIik7XHJcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLmhvdXJzZSk7XHJcbiAgICAgICAgdGhpcy5ob3Vyc2UucG9zKDEwMCwgNzUwKTtcclxuICAgIH1cclxuICAgIG9uRW5hYmxlKCk6dm9pZHtcclxuICAgICAgICB0aGlzLmJ0bFJldHVybi5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCB0aGlzLm9uUmV0dXJuKTtcclxuICAgIH1cclxuICAgIG9uUmV0dXJuKCk6dm9pZCB7XHJcbiAgICAgICAgTGF5YS5TY2VuZS5jbG9zZShcIkhvdXNlU2NlbmUuc2NlbmVcIiwgXCJob3VzZVNjZW5lXCIpO1xyXG4gICAgICAgIE1haW5VSS5jdXJTY2VuZS5iU3RvcCA9IGZhbHNlO1xyXG4gICAgfVxyXG59XHJcbiIsIiAgICBcclxuICAgIGltcG9ydCBHYW1lQ29uZmlnIGZyb20gXCIuLi9HYW1lQ29uZmlnXCI7XHJcbiAgICBpbXBvcnQgTWFpblVJIGZyb20gXCIuLi9zY3JpcHRzL01haW5VSVwiO1xyXG4gICAgZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFpbk1hcCBleHRlbmRzIExheWEuU3ByaXRlIHtcclxuICAgIGNvbnN0cnVjdG9yKGN1clNjZW5lOk1haW5VSSkgeyBcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuY3VyU2NlbmUgPSBjdXJTY2VuZTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgYmc6TGF5YS5TcHJpdGU7XHJcbiAgICBwcml2YXRlIGhvdXJzZTpMYXlhLlNwcml0ZTtcclxuICAgIHByaXZhdGUgY3VyU2NlbmU6TWFpblVJO1xyXG4gICAgb25FbmFibGUoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5iZyA9IG5ldyBMYXlhLlNwcml0ZSgpXHJcbiAgICAgICAgdGhpcy5iZy5sb2FkSW1hZ2UoXCJyZXMvYmcvYmdfbmV3eWVhci5wbmdcIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLk9uTG9hZEJnQ29tcGxldGVkKSk7XHJcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLmJnKTtcclxuICAgICAgICB0aGlzLmJnLnBvcygwLCAwKTtcclxuXHJcbiAgICAgICAgdGhpcy5ob3Vyc2UgPSBuZXcgTGF5YS5TcHJpdGUoKVxyXG4gICAgICAgIHRoaXMuaG91cnNlLmxvYWRJbWFnZShcInJlcy9pdGVtL3dpbl8xNjQucG5nXCIpO1xyXG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5ob3Vyc2UpO1xyXG4gICAgICAgIHRoaXMuaG91cnNlLnBvcygxMDAsIDc1MCk7XHJcbiAgICAgICAgdGhpcy5ob3Vyc2Uub24oTGF5YS5FdmVudC5NT1VTRV9PVVQsIHRoaXMsIHRoaXMuT25Gb2N1c09mZiwgW3RoaXMuaG91cnNlXSk7XHJcbiAgICAgICAgdGhpcy5ob3Vyc2Uub24oTGF5YS5FdmVudC5NT1VTRV9PVkVSLCB0aGlzLCB0aGlzLk9uRm9jdXNPbiwgW3RoaXMuaG91cnNlXSk7XHJcbiAgICAgICAgdGhpcy5ob3Vyc2Uub24oTGF5YS5FdmVudC5DTElDSywgdGhpcywgdGhpcy5PbkhvdXJzZUNsaWNrLCBbdGhpcy5ob3Vyc2VdKTtcclxuICAgICAgICBMYXlhLnRpbWVyLmZyYW1lTG9vcCgxLCB0aGlzLCB0aGlzLm9uVXBkYXRlKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkRpc2FibGUoKTogdm9pZCB7XHJcbiAgICAgICAgTGF5YS50aW1lci5jbGVhcih0aGlzLCB0aGlzLm9uVXBkYXRlKTtcclxuICAgIH1cclxuICAgIG9uVXBkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuaG91cnNlLnBvcygxMDAgKyB0aGlzLngsIDc1MCArIHRoaXMueSk7XHJcbiAgICB9XHJcbiAgICBPbkxvYWRCZ0NvbXBsZXRlZCgpOnZvaWQge1xyXG4gICAgICAgIHRoaXMuY3VyU2NlbmUubWF4TGVmdFggPSBHYW1lQ29uZmlnLndpZHRoIC0gdGhpcy5iZy53aWR0aDtcclxuICAgICAgICBpZiAodGhpcy5jdXJTY2VuZS5tYXhMZWZ0WCA+IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmN1clNjZW5lLm1heExlZnRYID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jdXJTY2VuZS5tYXhUb3BZID0gR2FtZUNvbmZpZy5oZWlnaHQgLSB0aGlzLmJnLmhlaWdodDtcclxuICAgICAgICBpZiAodGhpcy5jdXJTY2VuZS5tYXhUb3BZID4gMClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VyU2NlbmUubWF4VG9wWSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBHbG93RmlsdGVyKGhvdXJzZTpMYXlhLlNwcml0ZSwgYlNob3dHbG93OkJvb2xlYW4pOiB2b2lkIHtcclxuICAgICAgICBpZiAoYlNob3dHbG93KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy/liJvlu7rkuIDkuKrlj5HlhYnmu6TplZxcclxuICAgICAgICAgICAgdmFyIGdsb3dGaWx0ZXI6IExheWEuR2xvd0ZpbHRlciA9IG5ldyBMYXlhLkdsb3dGaWx0ZXIoXCIjZmZmZjAwXCIsIDEwLCAwLCAwKTtcclxuICAgICAgICAgICAgLy/orr7nva7mu6TplZzpm4blkIjkuLrlj5HlhYnmu6TplZxcclxuICAgICAgICAgICAgaG91cnNlLmZpbHRlcnMgPSBbZ2xvd0ZpbHRlcl07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGhvdXJzZS5maWx0ZXJzID0gW107XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuICAgIE9uRm9jdXNPZmYoc3A6TGF5YS5TcHJpdGUpOnZvaWQge1xyXG4gICAgICAgIHRoaXMuR2xvd0ZpbHRlcihzcCwgZmFsc2UpO1xyXG4gICAgfVxyXG4gICAgT25Gb2N1c09uKHNwOkxheWEuU3ByaXRlKTp2b2lkIHtcclxuICAgICAgICB0aGlzLkdsb3dGaWx0ZXIoc3AsIHRydWUpO1xyXG4gICAgfVxyXG4gICAgT25Ib3Vyc2VDbGljayhzcDpMYXlhLlNwcml0ZSkge1xyXG4gICAgICAgIHRoaXMuY3VyU2NlbmUuYlN0b3AgPSB0cnVlO1xyXG4gICAgICAgIExheWEuU2NlbmUub3BlbihcIkhvdXNlU2NlbmUuc2NlbmVcIiwgZmFsc2UpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IEdhbWVDb25maWcgZnJvbSBcIi4uL0dhbWVDb25maWdcIjtcclxuaW1wb3J0IEdsb3dGaWx0ZXIgPSBMYXlhLkdsb3dGaWx0ZXI7XHJcbmltcG9ydCBNYWluTWFwIGZyb20gXCIuL01haW5NYXBcIjtcclxuaW1wb3J0IFdvcmxkTWFwIGZyb20gXCIuL1dvcmxkTWFwXCI7XHJcbiAgZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFpblVJIGV4dGVuZHMgTGF5YS5TY2VuZSB7XHJcblxyXG4gICAgcHVibGljIGJ0bEhvdXNlOkxheWEuQnV0dG9uO1xyXG4gICAgcHVibGljIGJ0bFdvcmxkOkxheWEuQnV0dG9uO1xyXG4gICAgcHVibGljIGJ0bEZyaWVuZHM6TGF5YS5CdXR0b247XHJcblxyXG4gICAgcHVibGljIG1heExlZnRYOiBudW1iZXIgPSAwO1xyXG4gICAgcHVibGljIG1heFRvcFk6IG51bWJlciA9IDA7XHJcbiAgICBwdWJsaWMgYlN0b3A6Ym9vbGVhbiA9IGZhbHNlO1xyXG4gICAgcHVibGljIHN0YXRpYyBjdXJTY2VuZTpNYWluVUk7XHJcbiAgICBwcml2YXRlIGN1ck1hcDpMYXlhLlNwcml0ZTtcclxuICAgIGNvbnN0cnVjdG9yKCkgeyBcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuaW5pdCgpO1xyXG4gICAgfVxyXG4gICAgXHJcblxyXG4gICAgaW5pdCgpOnZvaWR7XHJcbiAgICAgICAgTWFpblVJLmN1clNjZW5lID0gdGhpcztcclxuICAgIH1cclxuICAgIG9uRW5hYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuYnRsSG91c2Uub24oTGF5YS5FdmVudC5DTElDSywgdGhpcywgdGhpcy5vbkhvdXNlQ2xpY2spO1xyXG4gICAgICAgIHRoaXMuYnRsV29ybGQub24oTGF5YS5FdmVudC5DTElDSywgdGhpcywgdGhpcy5vbldvcmxkQ2xpY2spO1xyXG4gICAgICAgIHRoaXMuYnRsRnJpZW5kcy5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCB0aGlzLm9uRnJpZW5kc0NsaWNrKTtcclxuICAgICAgICBMYXlhLnN0YWdlLm9uKExheWEuRXZlbnQuTU9VU0VfTU9WRSwgdGhpcywgdGhpcy5Pbk1vdXNlTW92ZSk7XHJcbiAgICAgICAgTGF5YS5zdGFnZS5vbihMYXlhLkV2ZW50Lk1PVVNFX09VVCwgdGhpcywgdGhpcy5Pbk1vdXNlRW5kKTtcclxuICAgICAgICAvL0xheWEudGltZXIuZnJhbWVMb29wKDEsIHRoaXMsIHRoaXMub25VcGRhdGUpO1xyXG4gICAgICAgIHRoaXMuc3dpdGNoTWFwKDEpO1xyXG4gICAgfVxyXG4gICAgb25EaXNhYmxlKCk6IHZvaWR7XHJcbiAgICAgICAgLy9MYXlhLnRpbWVyLmNsZWFyKHRoaXMsIHRoaXMub25VcGRhdGUpO1xyXG4gICAgfVxyXG4gICAgb25VcGRhdGUoKTogdm9pZHtcclxuICAgICAgICAvL3RoaXMuaG91cnNlLnBvcygxMDAgKyB0aGlzLmJnWCwgNzUwICsgdGhpcy5iZ1kpO1xyXG4gICAgICAgIC8vdGhpcy5iZy54ID0gdGhpcy5iZ1g7XHJcbiAgICAgICAgLy90aGlzLmJnLnkgPSB0aGlzLmJnWTtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKHRoaXMuYmcueClcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBsYXN0WDpudW1iZXIgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSBsYXN0WTpudW1iZXIgPSBudWxsO1xyXG5cclxuICAgIHByaXZhdGUgYmdYOm51bWJlciA9IDA7XHJcbiAgICBwcml2YXRlIGJnWTpudW1iZXIgPSAwO1xyXG4gICAgT25Nb3VzZU1vdmUoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuYlN0b3ApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5sYXN0WCA9PSBudWxsIHx8IHRoaXMubGFzdFkgPT0gbnVsbClcclxuICAgICAgICB7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvL3JldHVybjtcclxuICAgICAgICAgICAgdmFyIGRlbHRhWDpudW1iZXIgPSBMYXlhLnN0YWdlLm1vdXNlWCAtIHRoaXMubGFzdFg7XHJcbiAgICAgICAgICAgIHZhciBkZWx0YVk6bnVtYmVyID0gTGF5YS5zdGFnZS5tb3VzZVkgLSB0aGlzLmxhc3RZO1xyXG4gICAgICAgICAgICB0aGlzLmN1ck1hcC54ID0gdGhpcy5jdXJNYXAueCArIGRlbHRhWDtcclxuICAgICAgICAgICAgdGhpcy5jdXJNYXAueSA9IHRoaXMuY3VyTWFwLnggKyBkZWx0YVk7XHJcbiAgICAgICAgICAgIHRoaXMuYmdYID0gdGhpcy5jdXJNYXAueDtcclxuICAgICAgICAgICAgdGhpcy5iZ1kgPSB0aGlzLmN1ck1hcC55O1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKHRoaXMuY3VyTWFwLnggPiAwKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1ck1hcC54ID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5jdXJNYXAueSA+IDApXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VyTWFwLnkgPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmN1ck1hcC54IDwgdGhpcy5tYXhMZWZ0WClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJNYXAueCA9IHRoaXMubWF4TGVmdFg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuY3VyTWFwLnkgPCB0aGlzLm1heFRvcFkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VyTWFwLnkgPSB0aGlzLm1heFRvcFk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy9cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5sYXN0WCA9IExheWEuc3RhZ2UubW91c2VYO1xyXG4gICAgICAgIHRoaXMubGFzdFkgPSBMYXlhLnN0YWdlLm1vdXNlWTtcclxuICAgIH1cclxuICAgIE9uTW91c2VFbmQoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5sYXN0WCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5sYXN0WSA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBvbkhvdXNlQ2xpY2soZTogTGF5YS5FdmVudCk6dm9pZHtcclxuICAgICAgICAvL3RoaXMuYnRsSG91c2UubGFiZWwgPSBcInByZXNzZWRcIjtcclxuICAgICAgICB0aGlzLnN3aXRjaE1hcCgxKTtcclxuICAgIH1cclxuICAgIG9uV29ybGRDbGljayhlOiBMYXlhLkV2ZW50KTp2b2lke1xyXG4gICAgICAgIHRoaXMuc3dpdGNoTWFwKDIpO1xyXG4gICAgfVxyXG4gICAgb25GcmllbmRzQ2xpY2soZTogTGF5YS5FdmVudCk6dm9pZHtcclxuICAgICAgICAvL3RoaXMuYnRsRnJpZW5kcy5sYWJlbCA9IFwicHJlc3NlZFwiO1xyXG4gICAgfVxyXG4gICAgc3dpdGNoTWFwKGluZGV4Om51bWJlcik6dm9pZHtcclxuICAgICAgICB0aGlzLmJ0bEhvdXNlLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5idGxXb3JsZC5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuYnRsRnJpZW5kcy5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucmVtb3ZlQ2hpbGQodGhpcy5jdXJNYXApO1xyXG4gICAgICAgIGlmIChpbmRleCA9PSAxKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5idGxIb3VzZS5zZWxlY3RlZCA9IHRydWU7ICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5jdXJNYXAgPSBuZXcgTWFpbk1hcCh0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGluZGV4ID09IDIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmN1ck1hcCA9IG5ldyBXb3JsZE1hcCh0aGlzKTtcclxuICAgICAgICAgICAgdGhpcy5idGxXb3JsZC5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpbmRleCA9PSAzKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5idGxGcmllbmRzLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5hZGRDaGlsZEF0KHRoaXMuY3VyTWFwLCAwKTtcclxuICAgIH1cclxufVxyXG4iLCIgICAgXHJcbiAgICBpbXBvcnQgR2FtZUNvbmZpZyBmcm9tIFwiLi4vR2FtZUNvbmZpZ1wiO1xyXG4gICAgaW1wb3J0IE1haW5VSSBmcm9tIFwiLi4vc2NyaXB0cy9NYWluVUlcIjtcclxuICAgIGV4cG9ydCBkZWZhdWx0IGNsYXNzIFdvcmxkTWFwIGV4dGVuZHMgTGF5YS5TcHJpdGUge1xyXG4gICAgY29uc3RydWN0b3IoY3VyU2NlbmU6TWFpblVJKSB7IFxyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5jdXJTY2VuZSA9IGN1clNjZW5lO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBiZzpMYXlhLlNwcml0ZTtcclxuICAgIHByaXZhdGUgaG91cnNlOkxheWEuU3ByaXRlO1xyXG4gICAgcHJpdmF0ZSBjdXJTY2VuZTpNYWluVUk7XHJcbiAgICBwcml2YXRlIHBvc1g6bnVtYmVyID0gMjIwO1xyXG4gICAgcHJpdmF0ZSBwb3NZOm51bWJlciA9IDc1MDtcclxuICAgIG9uRW5hYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuYmcgPSBuZXcgTGF5YS5TcHJpdGUoKVxyXG4gICAgICAgIHRoaXMuYmcubG9hZEltYWdlKFwicmVzL2JnL2JnX2hvdXNoYW4ucG5nXCIsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5PbkxvYWRCZ0NvbXBsZXRlZCkpO1xyXG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5iZyk7XHJcbiAgICAgICAgdGhpcy5iZy5wb3MoMCwgMCk7XHJcblxyXG4gICAgICAgIHRoaXMuaG91cnNlID0gbmV3IExheWEuU3ByaXRlKClcclxuICAgICAgICB0aGlzLmhvdXJzZS5sb2FkSW1hZ2UoXCJyZXMvaXRlbS93aW5fMTY1LnBuZ1wiKTtcclxuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMuaG91cnNlKTtcclxuICAgICAgICB0aGlzLmhvdXJzZS5wb3ModGhpcy5wb3NYLCB0aGlzLnBvc1kpO1xyXG4gICAgICAgIHRoaXMuaG91cnNlLm9uKExheWEuRXZlbnQuTU9VU0VfT1VULCB0aGlzLCB0aGlzLk9uRm9jdXNPZmYsIFt0aGlzLmhvdXJzZV0pO1xyXG4gICAgICAgIHRoaXMuaG91cnNlLm9uKExheWEuRXZlbnQuTU9VU0VfT1ZFUiwgdGhpcywgdGhpcy5PbkZvY3VzT24sIFt0aGlzLmhvdXJzZV0pO1xyXG4gICAgICAgIHRoaXMuaG91cnNlLm9uKExheWEuRXZlbnQuQ0xJQ0ssIHRoaXMsIHRoaXMuT25Ib3Vyc2VDbGljaywgW3RoaXMuaG91cnNlXSk7XHJcbiAgICAgICAgTGF5YS50aW1lci5mcmFtZUxvb3AoMSwgdGhpcywgdGhpcy5vblVwZGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgb25EaXNhYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIExheWEudGltZXIuY2xlYXIodGhpcywgdGhpcy5vblVwZGF0ZSk7XHJcbiAgICB9XHJcbiAgICBvblVwZGF0ZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmhvdXJzZS5wb3ModGhpcy5wb3NYICsgdGhpcy54LCB0aGlzLnBvc1kgKyB0aGlzLnkpO1xyXG4gICAgfVxyXG4gICAgT25Mb2FkQmdDb21wbGV0ZWQoKTp2b2lkIHtcclxuICAgICAgICB0aGlzLmN1clNjZW5lLm1heExlZnRYID0gR2FtZUNvbmZpZy53aWR0aCAtIHRoaXMuYmcud2lkdGg7XHJcbiAgICAgICAgaWYgKHRoaXMuY3VyU2NlbmUubWF4TGVmdFggPiAwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJTY2VuZS5tYXhMZWZ0WCA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY3VyU2NlbmUubWF4VG9wWSA9IEdhbWVDb25maWcuaGVpZ2h0IC0gdGhpcy5iZy5oZWlnaHQ7XHJcbiAgICAgICAgaWYgKHRoaXMuY3VyU2NlbmUubWF4VG9wWSA+IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmN1clNjZW5lLm1heFRvcFkgPSAwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgR2xvd0ZpbHRlcihob3Vyc2U6TGF5YS5TcHJpdGUsIGJTaG93R2xvdzpCb29sZWFuKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKGJTaG93R2xvdylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8v5Yib5bu65LiA5Liq5Y+R5YWJ5ruk6ZWcXHJcbiAgICAgICAgICAgIHZhciBnbG93RmlsdGVyOiBMYXlhLkdsb3dGaWx0ZXIgPSBuZXcgTGF5YS5HbG93RmlsdGVyKFwiI2ZmZmYwMFwiLCAxMCwgMCwgMCk7XHJcbiAgICAgICAgICAgIC8v6K6+572u5ruk6ZWc6ZuG5ZCI5Li65Y+R5YWJ5ruk6ZWcXHJcbiAgICAgICAgICAgIGhvdXJzZS5maWx0ZXJzID0gW2dsb3dGaWx0ZXJdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBob3Vyc2UuZmlsdGVycyA9IFtdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbiAgICBPbkZvY3VzT2ZmKHNwOkxheWEuU3ByaXRlKTp2b2lkIHtcclxuICAgICAgICB0aGlzLkdsb3dGaWx0ZXIoc3AsIGZhbHNlKTtcclxuICAgIH1cclxuICAgIE9uRm9jdXNPbihzcDpMYXlhLlNwcml0ZSk6dm9pZCB7XHJcbiAgICAgICAgdGhpcy5HbG93RmlsdGVyKHNwLCB0cnVlKTtcclxuICAgIH1cclxuICAgIE9uSG91cnNlQ2xpY2soc3A6TGF5YS5TcHJpdGUpIHtcclxuICAgICAgICB0aGlzLmN1clNjZW5lLmJTdG9wID0gdHJ1ZTtcclxuICAgICAgICBMYXlhLlNjZW5lLm9wZW4oXCJIb3VzZVNjZW5lLnNjZW5lXCIsIGZhbHNlKTtcclxuICAgIH1cclxufSJdfQ==
